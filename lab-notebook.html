<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head prefix="dc: http://purl.org/dc/terms/ og: http://ogp.me/ns#"> <!-- namespaces used in metadata.html -->
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
  <title>Lab Notebook</title>
  <meta name="author" content="Carl Boettiger" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- HTML5 metadata -->
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="resource_type" content="website"/> 
<!-- RDFa Metadata (in DublinCore) -->
<meta property="dc:title" content="Lab Notebook" />
<meta property="dc:creator" content="Carl Boettiger" />
<meta property="dc:date" content="" />
<meta property="dc:format" content="text/html" />
<meta property="dc:language" content="en" />
<meta property="dc:identifier" content="/lab-notebook.html" />
<meta property="dc:rights" content="CC0" />
<meta property="dc:source" content="Lab Notebook" />
<meta property="dc:subject" content="Ecology" /> 
<meta property="dc:type" content="website" /> 
<!-- RDFa Metadata (in OpenGraph) -->
<meta property="og:title" content="Lab Notebook" />
<meta property="og:author" content="http://carlboettiger.info/index.html#me" />  <!-- Should be Liquid? URI? -->
<meta property="http://ogp.me/ns/profile#first_name" content="Carl"/>
<meta property="http://ogp.me/ns/profile#last_name" content="Boettiger"/>
<meta property="http://ogp.me/ns/article#published_time" content="" />
<meta property="og:site_name" content="Lab Notebook" /> <!-- Same as dc:source? -->
<meta property="og:url" content="http://carlboettiger.info/lab-notebook.html" />
<meta property="og:type" content="website" /> 
<!-- Google Scholar Metadata -->
<meta name="citation_author" content="Carl Boettiger"/>
<meta name="citation_date" content=""/>
<meta name="citation_title" content="Lab Notebook"/>
<meta name="citation_journal_title" content="Lab Notebook"/>
<!--NOTE: see also the COinS Metadata in span element in footer -->




  <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <!-- Help the browser identify the RSS feed automatically -->
  <link rel="alternate" type="application/rss+xml" title="Carl Boettiger's Lab Notebook" href="/blog.xml" />
</head>


  <body prefix="dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/"> 
    <!-- Navbar  ================================================== -->

<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/README.html"><i class="icon-info-sign" alt="info"></i></span></a>
    </div>

 <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

          <li  >
          <a href="/index.html">Home</a></li>
          <li  >
          <a href="/vita.html">Vita</a></li>
          <li  >
          <a href="/research.html">Research</a></li>
          <li  >
          <a href="/teaching.html">Teaching</a></li>
          <li  >
          <a href="/community.html">Community</a></li>
          <li  class="active" >
          <a href="/lab-notebook.html">Lab Notebook</a></li>

        </ul>

      <!-- Search site using Google's index -->
        <form class="navbar-form navbar-right" role="search" method="get" action="http://google.com/search">
          <div class="form-group">
            <input type="hidden" name="q" value="site:carlboettiger.info" />
            <input type="text" class="form-control search-query" name="q" placeholder="Search"/>
          </div>
          <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button> 
       </form>

    </div><!--/.nav-collapse -->
  </div> <!-- /container -->
</nav>



    <div class="container"> <!-- Responsive grid layout, doesn't jump to full-width --> 

      <header>
  <h1 class="entry-title">Lab Notebook</h1>
  <h2>(<a href="http://www.carlboettiger.info/2012/09/28/Welcome-to-my-lab-notebook.html">Introduction</a>)</h3>
</header>



<div class="row feed">
  <div class="col-md-3 col-md-offset-1">
    <h4>  <a property="account" href="https://github.com/cboettig" onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); return false;"><i class="icon-github" alt="github"></i> Coding </a></h4> 
    <div class="excerpt">
      <div class="scroll">
        <ul><li>cboettig pushed to master at cboettig/labnotebook: <em>don't use fluid/full-width container</em> <a href="https://github.com/cboettig/labnotebook/compare/293b2093b9...71b848adcf">07:24 2014/05/05</a></li><li>cboettig commented on issue travis-ci/travis-ci#2046: <em>Having an opt-in option for Ubuntu 14.04 through .travis.yml sounds like a nice way to make a smooth transition. I'm sure many repositories would…</em> <a href="https://github.com/travis-ci/travis-ci/issues/2046#issuecomment-42221420">06:35 2014/05/05</a></li><li>cboettig pushed to gh-pages at cboettig/labnotebook: <em>Built from 293b2093b9e91df2a83c44bff087508cdead90ac.</em> <a href="https://github.com/cboettig/labnotebook/compare/2d9aa087fa...6a69a944c9">06:33 2014/05/05</a></li><li>cboettig pushed to master at cboettig/labnotebook: <em>tweaking drafts</em> <a href="https://github.com/cboettig/labnotebook/compare/bf8095e176...293b2093b9">06:17 2014/05/05</a></li><li>cboettig pushed to master at cboettig/labnotebook: <em>releasing or cleaning out old posts tidying up</em> <a href="https://github.com/cboettig/labnotebook/compare/5ae4d902ed...bf8095e176">06:03 2014/05/05</a></li></ul>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <h4> <a property="account" href="https://twitter.com/cboettig" onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); return false;"><i class="icon-twitter"></i> Discussing </a></h4> 
     <div class="excerpt">
      <div class="scroll">
       <ul><li><p>Nice!@NCEAS&#39;s KNB repository now provides measures of use for datasets <a href="http://t.co/Iuql918nAr">http://t.co/Iuql918nAr</a></p>
 <a href="http://twitter.com/cboettig/statuses/463362058931560448">09:58 2014/05/05</a> </li><li><p>Marten Scheffer on &quot;The forgotten half of scientific thinking&quot; in @PNASNews <a href="http://t.co/FrXGzLN8Al">http://t.co/FrXGzLN8Al</a></p>
 <a href="http://twitter.com/cboettig/statuses/463039331897073664">12:35 2014/05/04</a> </li><li><p>@zx8754 @ctitusbrown @_inundata @xieyihui @openscience I have a few, e.g. <a href="https://t.co/Xk4d3pasPa">https://t.co/Xk4d3pasPa</a> but barriers to reprod research remain.</p>
 <a href="http://twitter.com/cboettig/statuses/462258962805424128">08:54 2014/05/02</a> </li><li><p>A German court rules on what &quot;non-comm&quot; licenses popular with some journals (@ScientificData) mean wrt edu reuse <a href="https://t.co/JzFCWYUV9Y">https://t.co/JzFCWYUV9Y</a></p>
 <a href="http://twitter.com/cboettig/statuses/462257180737945600">08:47 2014/05/02</a> </li><li><p>@DistribEcology people use nexus with sequences all the time; NeXML benefits from loads o stuff from biodiv informatics cc @hlapp @rvosa</p>
 <a href="http://twitter.com/cboettig/statuses/461937209394745344">11:36 2014/05/01</a> </li></ul>
      </div>
    </div> 
  </div> 
  <div class="col-md-3">
    <h4> <a href="http://www.mendeley.com/groups/634301/theoretical-ecology/papers/" onClick="recordOutboundLink(this, 'Outbound Links', 'Mendeley'); return false;"><i class="icon-book"></i> Reading </a></h4> 
    <div class="excerpt">
      <div class="scroll">
<ul><li>Early-Warning Signs for Pattern-Formation in Stochastic Partial Differential Equations: Pages: 26. Karna Gowda, Christian Kuehn et al. <a href="http://www.mendeley.com/c/6778610874/g/634301/gowda-2014-early-warning-signs-for-pattern-formation-in-stochastic-partial-differential-equations/">08:17 2014/05/01</a></li><li>Structural asymmetry and the stability of diverse food webs.: Nature (2006). Volume: 442, Issue: 7100. Pages: 265-9. Neil Rooney, Kevin McCann, Gabriel Gellner, John C Moore et al. <a href="http://www.mendeley.com/c/6778610844/g/634301/rooney-2006-structural-asymmetry-and-the-stability-of-diverse-food-webs/">08:16 2014/05/01</a></li><li>Foraging adaptation and the relationship between food-web complexity and stability.: Science (New York, N.Y.) (2003). Volume: 299, Issue: 5611. Pages: 1388-91. Michio Kondoh et al. <a href="http://www.mendeley.com/c/6778610834/g/634301/kondoh-2003-foraging-adaptation-and-the-relationship-between-food-web-complexity-and-stability/">08:16 2014/05/01</a></li><li>Building Integral Projection Models: a User's Guide.: The Journal of animal ecology (2013). Pages: 528-545. Mark Rees, Dylan Z Childs, Stephen P Ellner et al. <a href="http://www.mendeley.com/c/6761259304/g/634301/rees-2013-building-integral-projection-models-a-users-guide/">08:15 2014/05/01</a></li></ul>
      </div>
    </div>
  </div> 
</div>

<hr>
<div class="row postpreview">
  <div class="col-md-11 col-md-offset-1">
    <div class="row">
      <h4> <a href="http://carlboettiger.info/atom.xml"
              onClick="recordOutboundLink(this,
              'Outbound Links', 'RSS'); return false;"
              style="color: inherit;"
              ><i class="icon-rss" ></i> Entries</a></h4>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/05/04/why-I-sign-my-reviews.html">why I sign my reviews</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 04 May 2014</p>

<article>
<div class="excerpt">
<p>For the past four years I have made an effort to sign all my reviews (which I try to keep to about one a month). It isn’t because I believe in radical openness or something crazy like that. Its really just my self interest involved – at least mostly. Writing a review is an incredibly time consuming, and largely thankless task. Supposedly anonymous peer review is supposed to protect the reviewer, particularly the scenario of the less established scientist critiquing the work of the more established. I am sure it occasionally serves that purpose. On the other hand, that very scenario can be the <em>most</em> profitable time to sign a review. Really, when are you more likely to get an esteemed colleague to closely read your every argument than when you’re holding up their publication?</p>
<p>While the possibility of a vindictive and powerful author sounds daunting, but rather inconsistent with my impression of most scientists, who are more apt to be impressed by an intelligent even if flawed critique than by simple praise. I find it hardest to sign a review that I have found very little constructive criticism to offer, though after a decade of being trained to critique science one can always find something. (Of course signing can be hard on the occasional terrible paper for which it is hard to offer much constructive criticism, but fortunately that has been very rare). Both authors and other reviewers (who are sometimes sent the other reviews, a practice I find very educational as a reviewer) have on occasion commented or complemented me on reviews or acknowledged me in the papers, suggesting that the practice does indeed provide for some simple recognition. At times, it may sow seeds for future collaboration.</p>
<p>Signing my reviews has on occasion given the author a chance to follow up with me directly. While I’m not certain about journal policies in this regard, I suspect we can assume that we’re all adults capable of civil discussion. In any event, a phone call or even a few back-and-forth emails can be immensely more efficient in allowing an author to clarify elements that I have sometimes misunderstood or been unable to follow from the text, as well as making it easier to communicate my difficulties with the paper. In my experience this has resulted in both a faster and more satisfactory resolution to issues that have led to see some papers published more quickly and without as many tedious multiple rounds of revision. Given that many competitive journals simply cut off papers that might otherwise be successful with a bit more dialog between reviewer and author, because multiple “Revise and resubmits” put too much demand on editors, this seems like a desirable outcome for all involved. I’m not suggesting that such direct dialog is always desirable, but that no doubt many of us have been in the position in which a little dialog might have resolved issues more satisfactorily.</p>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/05/04/why-I-sign-my-reviews.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/05/02/scientific-computing-notes.html">Scientific Computing Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 02 May 2014</p>

<article>
<div class="excerpt">
<p>In my experience EC2 is good for some things but not for others. Consequently having some funding allocated for it would be great, but it would still be necessary to have other resources as well. I’ve found EC2 very good for running some reasonably portable analysis where you temporarily want some extra processors or memory. On the other hand, I’ve had some frustrations with it as well. You don’t have a persistent development environment unless you explicitly make and maintain a machine image, which means installing any software dependencies from scratch; sometimes a particular nuisance when you aren’t familiar with the architecture. So this adds more overhead on your time relative to administering your own machine, and much more than a university cluster with a human administrator. Obviously the latter is much more costly, but seems to scale well at least where I’ve seen that in universities.</p>
<p>Costs for maintaining a persistent image (e.g. for a web server), and costs for large data storage on things like S3 still seem a bit high, though actually the Berkeley cloud service listed on it’s IST site looks competitive. EC2 isn’t a great option for tasks that require more processors than can be fit with shared memory on a single node, where the architecture of a cluster is better for things that use MPI. Lastly, I want to think about what environment will be most accessible to my students and postdocs. While surely it’s good for them to learn their way around computing environments, at some point the barriers to enter or keep current with some of the cloud platforms in particular become a distraction from the research.</p>
<hr />
<ul>
<li>See Glenn Lockwood on <a href="http://glennklockwood.blogspot.com/2013/04/quick-mpi-cluster-setup-on-amazon-ec2.html">MPI setup</a> and <a href="http://glennklockwood.blogspot.com/2013/04/mpi-benchmarks-amazon-ec2-cluster.html">MPI benchmarks</a> on EC2.</li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/05/02/scientific-computing-notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/05/02/multiple-uncertainty-notes.html">Multiple Uncertainty Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 02 May 2014</p>

<article>
<div class="excerpt">
<h3 id="logistic-recruitment-uniform-noise">Logistic recruitment, uniform noise</h3>
<p>(Sethi Fig 3 configuration)</p>
<figure>
<img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-scenarios.svg" />
</figure>
<h3 id="logistic-recruitment-lognormal-noise">Logistic recruitment, lognormal noise</h3>
<figure>
<img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-lognormal.svg" />
</figure>
<h3 id="beverton-holt-recruitement-uniform-noise">Beverton-Holt recruitement, uniform noise</h3>
<figure>
<img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-bevholt_uniform.svg" />
</figure>
<h3 id="beverton-holt-recruitement-lognormal-noise">Beverton-Holt recruitement, lognormal noise</h3>
<figure>
<img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-bevholt_lognormal.svg" />
</figure>
<h3 id="logistic-recruitment-uniform-noise-small-r">Logistic recruitment, uniform noise, small r</h3>
<p><img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-logistic_unif_small_r.svg" /> ### Logistic recruitment, lognormal noise, small r</p>
<figure>
<img src="http://cboettig.github.io/multiple_uncertainty/5b3b135-logistic_lognormal_small_r.svg" />
</figure>
<h2 id="metadata">Metadata</h2>
<p>From <a href="https://github.com/cboettig/multiple_uncertainty/blob/25cc46841908c6ca4da92b8866b836bfeddd707f/inst/matlab/scenarios_meta.txt">scenarios_meta.txt</a></p>
<pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="fu">Columns:</span>
  <span class="fu">y_grid:</span> The observed stock size
  <span class="fu">escapement:</span> The optimal escapement policy. (y_grid value minus the escapement is the quota).
  <span class="fu">sigma_g:</span> The growth noise scaling factor
  <span class="fu">sigma_m:</span> The measurement error scaling factor (between observed stock x and measured stock y)
  <span class="fu">sigma_i:</span> The implementation noise scaling factor (between quota q set and harvest h realized).
  <span class="fu">r:</span> The growth rate parameter of the recuitment function
  <span class="fu">K:</span> The carrying capacity parameter of the recruitment function
  <span class="fu">recruitment:</span>
    <span class="fu">1:</span> Logistic, x+r*x.*(1-x/K)
    <span class="fu">2:</span> Ricker, (1+r)*x.*exp(-(log(1+r)/K)*x)
    <span class="fu">3:</span> Beverton-Holt, (1+r)*x./(1+r/K*x)
  <span class="fu">noise:</span>
    <span class="fu">1:</span> uniform noise distribution
    <span class="fu">2:</span> lognormal noise distribution
  <span class="fu">id:</span> a unique id number for the scenario (for subsetting and plotting)


<span class="fu">Constants:</span>
  <span class="fu">delta:</span>
    <span class="fu">value:</span> 0.05
    <span class="fu">description:</span> Discount rate
  <span class="fu">Tmax:</span>
    <span class="fu">value:</span> 10
    <span class="fu">description:</span> number of years (iterations) over which policy is optimized
  <span class="fu">x_grid:</span>
    <span class="fu">value:</span> linspace(0,200,201)
    <span class="fu">description:</span> True stock size
  <span class="fu">y_grid:</span>
    <span class="fu">value:</span> linspace(0,200,201)
    <span class="fu">description:</span> Observed stock size
  <span class="fu">h_grid:</span>
    <span class="fu">value:</span> linspace(0,120,121)
    <span class="fu">description:</span> Implemented harvest
  <span class="fu">q_grid:</span>
    <span class="fu">value:</span> linspace(0,120,121)
    <span class="fu">description:</span> Target harvest quota

<span class="fu">Notes:</span>
  See the scenarios.m file to confirm values of constants used.</code></pre>
<h2 id="source-code-version-archives">Source code / version archives</h2>
<ul>
<li><p>Data for all the plots shown appears in <a href="https://github.com/cboettig/multiple_uncertainty/blob/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab/scenarios.csv">scenarios.csv</a>. Because my collaborators have me using Matlab for this and Matlab can neither (afaik) write headers to csv files, append to csv files, or even conviently export non-numeric and numeric data (I write a matrix to the csv file), you’ll just have to consult the <a href="https://github.com/cboettig/multiple_uncertainty/blob/25cc46841908c6ca4da92b8866b836bfeddd707f/inst/matlab/scenarios_meta.txt">scenarios_meta.txt</a> for relevant information.</p></li>
<li><p>All results shown here correspond to files that can be found in <a href="https://github.com/cboettig/multiple_uncertainty/tree/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab">Commit 4c71612</a>, including the data file. The SVG plots are hosted through the gh-pages branch of the repo, and thus show the most recent versions of those plots. The names have been tagged with the commit hash to avoid accidentally overwriting when programatically generating images. (Clearly that’s not ideal, but cannot link directly to version and have it render).</p></li>
<li><p>Results generated by running <a href="https://github.com/cboettig/multiple_uncertainty/blob/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab/scenarios.m">scenarios.m</a></p></li>
</ul>
<p><strong>Functions</strong></p>
<ul>
<li>The main routine is (still) in <a href="https://github.com/cboettig/multiple_uncertainty/blob/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab/multiple_uncertainty.m">multiple_uncertainty.m</a></li>
<li>The scenario template over which we loop is defined as a seperate function in <a href="https://github.com/cboettig/multiple_uncertainty/blob/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab/scenario.m">scenario.m</a></li>
<li>scenarios.m also calls the script <a href="https://github.com/cboettig/multiple_uncertainty/blob/4c71612448eb6f33378235e786d149abc8ce0074/inst/matlab/plot_scenarios.m">plot_scenarios.m</a>, which can be run to generate the plots from scenarios.csv directly without first regenerating the results data.</li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/05/02/multiple-uncertainty-notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

    <div class="row">
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/29/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 29 Apr 2014</p>

<article>
<div class="excerpt">
<h2 id="labnotebook">Labnotebook</h2>
<ul>
<li>Configure Github CDN</li>
<li>Hmm, <a href="https://github.com/ixti/jekyll-assets">jekyll-assets</a>. Not sure that this is preferable from just using the makefile to compile and minify assets seperately as needed.</li>
<li>Move <code>www.carlboettiger.info</code> to host from gh-pages branch of labnotebook. This self-contained system is more standard, and it is strange for other gh-pages hosting to be using the same domain/subdomain to reference content that is actually on a gh-pages branch of some totally different repository.</li>
<li>Updated rakefile for this purpose, based on <a href="http://evansosenko.com/posts/automatic-publishing-github-pages-travis-ci/">evan sosenko’s</a>, and see <a href="https://github.com/razor-x/evansosenko.com">evan’s sources</a></li>
</ul>
<h2 id="packages">packages</h2>
<ul>
<li>fix emergent rfigshare bug due to API change.</li>
<li>Ooh: Trigger <a href="https://github.com/philou/daily-travis">daily automated checks</a> with travis. Could be good for builds too.</li>
</ul>
<h2 id="multiple-uncertainty">multiple-uncertainty</h2>
<ul>
<li>see repo.</li>
</ul>
<h2 id="reading">Reading</h2>
<ul>
<li>Summary of the First Workshop on Sustainable Software for Science: Practice and Experiences (WSSSPE1) http://arxiv.org/abs/1404.7414</li>
<li>PLOSBiology piece by MS Research and friends (Drew Purves): http://doi.org/10.1371/journal.pbio.1001841, also see: https://t.co/ODw9BDNgHe</li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/29/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/24/notebook-design-notes.html">Notebook Design Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 24 Apr 2014</p>

<article>
<div class="excerpt">
<p>Reading a little about Flat UI design (<a href="http://www.sitepoint.com/getting-started-flat-ui-design/">1</a>, <a href="http://en.wikipedia.org/wiki/Flat_UI_Design">2</a>). Basic concept is that users now realize they can click on things without them looking like actual three-dimensional buttons. (Along with links, checkboxes, and forms). Frequently seems to use many different <a href="http://flatuicolors.com">colors</a> on a single page to bring some life back, though this might just make the design look like Windows 8 instead. I’ve started noticing this everwhere now that I know what it is.</p>
<p>Easy enough to implement in web design thanks to projects like <a href="http://designmodo.github.io/Flat-UI/">Flat-UI</a>. Not psyched about their colors or components myself, but rather nice to see the way they approach theming Bootstrap 3.1.1 without altering the original Bootstrap css. (Can potentially involve duplicating much of the original LESS).</p>
<p>I’ve found it easy to theme by adding a customized <code>variables.less</code> under the original (thereby overwriting the original where specified while otherwise using the original as default) and then adding my own <code>custom.less</code> at the bottom of the <code>bootstrap.less</code> file that wraps them all together.</p>
<p>Looking into upgrading my css to Twitter <a href="http://getbootstrap.com">Bootstrap 3.1.1</a>. They have replaced a simple Makefile with the rather heavy nodejs based Grunt to compile the css. No doubt there are good reasons for this, but a couple rather terrible gotchas in building from the LESS (see below). Otherwise the upgrades are mostly straight forward with a little regex to adopt the new grid class syntax. After swapping in my old <code>.less</code> files as described above I only needed to update the navigation bar and the accordion folding on categories to have the transition completed. Changes are subtle, but:</p>
<ul>
<li>Design is now flatter, with the navbar and buttons having no 3D shading</li>
<li>multiple-column layout can persist on mobile devices</li>
<li>new (default) fonts</li>
<li><p>Currently on fluid container, which can make the text a bit wide on widesreen displays.</p></li>
<li>Removed the alternative CSS styles. Writing the solarized themes and javascript toggles was a fun exercise but more of an amatuerish trick (that didn’t always reset correctly or provide any real functionality) than a mature feature</li>
<li>Haven’t upgraded the icons, though have added the FontAwesome4 CDN to the header so that these icons can be used anywhere.</li>
<li>Cleaned out some javascript and some old templates, mostly related to search.</li>
<li><p>enabled code toggling with <code>toggleR</code> (on pages with <code>page.code: yes</code>), e.g. <a href="http://www.carlboettiger.info/2012/06/13/Sethi-policy-functions.html">2012-06-13 post</a>.</p></li>
</ul>
<p><strong>Building Bootstrap from LESS</strong></p>
<ul>
<li><p>Can’t work with Ubuntu’s <code>npm</code>, but needs a custom ppa install. <a href="http://stackoverflow.com/questions/23251351/fail-to-install-twitter-bootstrap-node-js-dependencies-on-ubuntu">See SO question and solution</a></p></li>
<li><p>Even then things aren’t ready to run due to crazy-stupid namespace conflict over <code>node</code>. The only thing worse than the uniformative error above is the complete absence of any error at all, again <a href="http://stackoverflow.com/questions/20937313/grunt-command-doesnt-do-anything">resolved thanks to SO</a>.</p></li>
</ul>
<p>After this I am able to start from scrach again and compile the less files. Which is good, since my Makefile fails now (as it seems taht lessc is a <code>nodejs</code> creature anyway and my node environment is completely local, as I’ve removed the conflicting node <code>.deb</code>s installed from apt…). However, it does mean learning to edit the Grunt file in order to make any changes to the build list (e.g. don’t build the docs css), or otherwise just working around these issues. I’ve taken the latter path with a new Makefile that calls Grunt to do the compile and then cleans up and deploys the output as I want, rather than making these edits to the Grunt file directly. By changing less of the boilerplate code, this should be easier to maintain for upgrades.</p>
<p>Developing almost anything (Ruby, R, javascript, haskell, tex, etc) seems to require it’s own package mananger even though these things are packages in Ubuntu distributions. Meanwhile ubuntu focused things all want their own ppa installed. Maybe I should strip my sources.list back to just what ships with the base Ubuntu release since I have to extend this way instead of through <code>apt-get</code> now anyway. Still, surely feels like this is asking for trouble.</p>
<h3 id="github-hosting">Github hosting</h3>
<ul>
<li>Configuring Custom URL / Domain name.</li>
<li><p>Configuring <a href="https://github.com/blog/1715-faster-more-awesome-github-pages">Github CDN</a> with custom domain. Not quite clear how this works, see query to <a href="http://webmasters.stackexchange.com/questions/56826/do-i-set-a-dns-a-record-for-the-new-github-pages-to-use-their-cdn/56862#56862">webmasters SO</a>.</p></li>
<li><p><strong>Edit</strong>: Relatively straight-forward to fix. Adjusted dreamhost settings for carlboettiger.info from DNS to a redirect to www.carlboettiger.info. With the CNAME already set for www.carlboettiger.info and the Github CNAME configured, the rest is automatic. Yay for for a free and easy CDN from Github.</p></li>
<li><p>Have to wonder: is it then still worth using alternative CDNs, e.g. for CSS and Javascript. Currently MathJax, FontAwesome4 icons, JQuery, and Twitter Bootstrap Javascript are all on external CDNs.</p></li>
<li></li>
</ul>
<h3 id="version-managing-the-output-as-well-as-the-source">Version managing the output (as well as the source)</h3>
<p>Checkout git by date:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> rev-list -n1 --before=2013-7-4 master <span class="kw">|</span> <span class="kw">xargs</span> git checkout</code></pre>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/24/notebook-design-notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/23/multiple-uncertainty-notes.html">Multiple Uncertainty Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 23 Apr 2014</p>

<article>
<div class="excerpt">
<h2 id="multiple-uncertainty">Multiple uncertainty</h2>
<p>Handling variation in different grids. Cleaned up a bunch of transpose expressions in the code and make sure that dimensions are always properly aligned. Now problem can be solved on arbitrarily different grid discritizations for stock <span class="math">\(x\)</span>, observed stock <span class="math">\(y\)</span>, harvest <span class="math">\(h\)</span> and quota <span class="math">\(q\)</span>. See <a href="https://github.com/cboettig/multiple_uncertainty/blob/61e34979df93617e6229a6031ea624934acbe93c/inst/matlab/multiple_uncertainty.m">multiple_uncertainty.m</a> and example calls in <a href="https://github.com/cboettig/multiple_uncertainty/blob/61e34979df93617e6229a6031ea624934acbe93c/inst/matlab/testing.m">testing.m</a></p>
<p>Taking a look a how we handle normalization when some of the probability density falls outside the discritized space. Currently we just renormalize, which distributes the weights over all non-zero weighted points. Might be more reasonable to map all that probability to the boundary, though this is tricky. I’ve taken a stab at this based on only normalizing the resulting matrix without knowing the underlying pdf, which has some challenges. See unused function: <a href="https://github.com/cboettig/multiple_uncertainty/blob/61e34979df93617e6229a6031ea624934acbe93c/inst/matlab/norm_pile_bdry.m">norm_pile_bdry.m</a></p>
<p>Also added line to enforce the assumption that quota should not exceed assessment estimate, though certainly it is sometimes optimal that it should when either implementation or measurement are uncertain. This seems easiest to enforce by just setting those terms in the value matrix to zero:</p>
<pre class="sourceCode matlab"><code class="sourceCode matlab"> V = tril(V);</code></pre>
<p>(see in code, <a href="https://github.com/cboettig/multiple_uncertainty/blob/61e34979df93617e6229a6031ea624934acbe93c/inst/matlab/multiple_uncertainty.m#L111">#L111</a>)</p>
<h3 id="lognormal">lognormal</h3>
<figure>
<img src="http://cboettig.github.com/multiple_uncertainty/lognormal_multiple_uncertainty.svg" />
</figure>
<h3 id="uniform">Uniform</h3>
<figure>
<img src="http://cboettig.github.com/multiple_uncertainty/multiple_uncertainty.svg" />
</figure>
<h3 id="comparisons">Comparisons</h3>
<p>Took a quick look at Paul’s code yesterday. He does enforce the quota &lt;= assessment value, which while a logical constraint, is also trivially sub-optimal for some certain measurement and implementation uncertainty.</p>
<p>It also looks like he has a very coarse grid for the shocks, which I don’t quite understand. It looks like each of the uncertainties is defined as a set of weights over only 7 points; I’m not quite sure why that is so low when he uses quite a fine grid for the state space and action space. I define my shocks over the same grid as the state space.</p>
<p>His approach looks quite interesting: he enumerates all possible combinations of state-action pairs and computes the expected reward at each of these pairs ahead of time as part of the model statement, as a sum over all possible measurement and implementation shocks:</p>
<pre class="sourceCode matlab"><code class="sourceCode matlab">R=<span class="fl">0</span>;
for i=<span class="fl">1</span>:length(zi)      <span class="co">% Grid size for implementation error</span>
  for j=<span class="fl">1</span>:length(zm)    <span class="co">% Grid size for measurement error</span>
    R=R + harv(X(:,<span class="fl">1</span>) / zm(j), X(:,<span class="fl">2</span>), zi(i)) * pm(j) * pi(i);
  end
end</code></pre>
<p>Which might be read as:</p>
<p><span class="math">\[ \sum_i \sum_j \min \left(\textrm{assessed stock} / \textrm{measurement grid}_j,  \textrm{quota} * \textrm{implementation grid}_i\right)   * \textrm{measurement shock}_j * \textrm{implementation shock}_i \]</span></p>
<p>(Not clear to me why assessed stock is divided by the grid.)</p>
<p>He also computes these grids for the uncertainty, ee=rectgrid(zg,zi,zm,zm), where zg is the growth uncertainty grid, etc. Again I like this, as it seems like a nice abstraction of the uncertainty process, but I can’t quite penetrate what this does but he uses it to create the transition matrix, P, through some g2P function I haven’t looked at. Also not sure why zm appears twice, though perhaps it is related to handling both the current and predicted stock sizes (after all, the M matrix appears twice in my equations too).</p>
<p>For a lark I tried setting the uncertainty grids to match the state space grid, all having 100 points. This has been running overnight…</p>
<p>Anyway, it looks clever and I which I had a better idea of how he was setting up the model, and what discretizations and assumptions were being made.</p>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/23/multiple-uncertainty-notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

    <div class="row">
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/18/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 18 Apr 2014</p>

<article>
<div class="excerpt">
<h2 id="eml">EML</h2>
<p>I’ve added a interface for custom units. You don’t have to mess around with <code>additionalMetadata</code> as it should be handled automatically. Just define the unit itself, like this <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>:</p>
<pre class="sourceCode coffee"><code class="sourceCode coffee">  create_custom_unit<span class="kw">(</span>id <span class="kw">=</span> <span class="st">&quot;metersSquaredPerHectare&quot;</span><span class="kw">,</span>
                     parentSI <span class="kw">=</span> <span class="st">&quot;dimensionless&quot;</span><span class="kw">,</span>
                     unitType <span class="kw">=</span> <span class="st">&quot;dimensionless&quot;</span><span class="kw">,</span>
                     multiplierToSI <span class="kw">=</span> <span class="st">&quot;0.0001&quot;</span><span class="kw">,</span>
                     description <span class="kw">=</span> <span class="st">&quot;Square meters per hectare&quot;</span><span class="kw">)</span></code></pre>
<p>and then use the <code>id</code> you give as the unit type in your <code>unit.defs</code>. <code>create_custom_unit</code> updates a <code>custom_units</code> list in the <code>EMLConfig</code> environment, which the <code>eml</code> or <code>write_eml</code> functions detect and use to write in the additional metadata. <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<p>If the custom unit is not defined and the session is interactive, EML will prompt for essential fields in the unit definition. Other optional fields are also described in the documentation.</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Note that I just use “dimensionless” as an illustration here, a the better choice might perhaps be to define an area/area <code>unitType</code> as <span class="citation" data-cites="mbjones">@mbjones</span> discusses in #12. (We’ll add support for OBOE semantics eventually, but that’s much more complex)<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>This isn’t ideal, since the use of environments means the function has “side effects” and you could inadvertently include unit definitions you defined for some other reason in your EML file (if you didn’t do <code>eml_reset_config()</code> or start a fresh R session). That wouldn’t break anything technical, but would seem a bit strange to define units you didn’t use. The environment mechanism can be avoided by explicitly passing list of custom_units to the <code>eml</code> or <code>eml_write</code> functions.<a href="#fnref2">↩</a></p></li>
</ol>
</section>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/18/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/17/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 17 Apr 2014</p>

<article>
<div class="excerpt">
<h2 id="units-in-eml">Units in EML</h2>
<p>Overview of how units are determined in the EML package:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(EML)
dat &lt;-<span class="st"> </span><span class="kw">data.set</span>(<span class="dt">river =</span> <span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;SAC&quot;</span>,  <span class="st">&quot;SAC&quot;</span>,   <span class="st">&quot;AM&quot;</span>)),
               <span class="dt">spp   =</span> <span class="kw">c</span>(<span class="st">&quot;Oncorhynchus tshawytscha&quot;</span>,  <span class="st">&quot;Oncorhynchus tshawytscha&quot;</span>, <span class="st">&quot;Oncorhynchus kisutch&quot;</span>),
               <span class="dt">stg   =</span> <span class="kw">ordered</span>(<span class="kw">c</span>(<span class="st">&quot;smolt&quot;</span>, <span class="st">&quot;parr&quot;</span>, <span class="st">&quot;smolt&quot;</span>), <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;parr&quot;</span>, <span class="st">&quot;smolt&quot;</span>)), <span class="co"># levels indicates increasing level, eg. parr &lt; smolt</span>
               <span class="dt">ct    =</span> <span class="kw">c</span>(293L,    410L,    210L),
               <span class="dt">day   =</span> <span class="kw">as.Date</span>(<span class="kw">c</span>(<span class="st">&quot;2013-09-01&quot;</span>, <span class="st">&quot;2013-09-1&quot;</span>, <span class="st">&quot;2013-09-02&quot;</span>)),

               <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>,

               <span class="dt">col.defs =</span> <span class="kw">c</span>(<span class="st">&quot;River site used for collection&quot;</span>,
                            <span class="st">&quot;Species scientific name&quot;</span>,
                            <span class="st">&quot;Life Stage&quot;</span>,
                            <span class="st">&quot;count of live fish in traps&quot;</span>,
                            <span class="st">&quot;day traps were sampled (usually in morning thereof)&quot;</span>),

               <span class="dt">unit.defs =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="dt">SAC =</span> <span class="st">&quot;The Sacramento River&quot;</span>,                         <span class="co"># Factor, levels defined explicitly</span>
                                  <span class="dt">AM =</span> <span class="st">&quot;The American River&quot;</span>),
                                <span class="st">&quot;Scientific name&quot;</span>,                                      <span class="co"># Character string (levels not defined)</span>
                                <span class="kw">c</span>(<span class="dt">parr =</span> <span class="st">&quot;third life stage&quot;</span>,                            <span class="co"># Ordered factor</span>
                                  <span class="dt">smolt =</span> <span class="st">&quot;fourth life stage&quot;</span>),
                                <span class="kw">c</span>(<span class="dt">unit =</span> <span class="st">&quot;number&quot;</span>, <span class="dt">precision =</span> <span class="dv">1</span>, <span class="dt">bounds =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="ot">Inf</span>)),  <span class="co"># Integer</span>
                                <span class="kw">c</span>(<span class="dt">format =</span> <span class="st">&quot;YYYY-MM-DD&quot;</span>, <span class="dt">precision =</span> <span class="dv">1</span>)))               <span class="co"># Date</span>
</code></pre>
<p>The EML package provides a variety of interfaces to transform this into EML format, depending on the level of granularity desired. At the highest level, as user can directly call <code>eml_write</code> (aliased as <code>write.eml</code> to mimic other write file conventions),</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">eml_write</span>(dat, <span class="st">&quot;example.xml&quot;</span>, <span class="dt">contact =</span> <span class="st">&quot;Carl Boettiger &lt;cboettig@ropensci.org&quot;</span>)</code></pre>
<p>This call works simply by calling the lower level functions. If <code>dat</code> is already the S4 object representation for <code>eml</code> or <code>dataset</code> object, they are dealt with directly. Otherwise, the function simply passes its arguments to the <code>eml</code> constructor function. The main difference between the <code>eml</code> constructor and <code>write_eml</code> is that the <code>eml</code> function returns an <code>eml</code> S4 object, while the <code>write_eml</code> function takes the additional step of transforming the S4 <code>eml</code> structure into XML and writing it to the desired file.</p>
<p>The <code>eml</code> function, also available to the user, has more optional named arguments than <code>write_eml</code>, though these can all be given to the higher level <code>write_eml</code> as well since they are passed through the <code>...</code> mechanism. (Its default arguments illustrate calls to some of the lower-level constructors, such as <code>eml_coverage</code>, and will automatically try and read <code>creator</code> and <code>contact</code> from the configuration environment if they are not provided)</p>
<pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>eml
function (<span class="dt">dat =</span> <span class="ot">NULL</span>, <span class="dt">title =</span> <span class="st">&quot;metadata&quot;</span>,
          <span class="dt">creator =</span> <span class="kw">get</span>(<span class="st">&quot;defaultCreator&quot;</span>, <span class="dt">envir =</span> EMLConfig),
          <span class="dt">contact =</span> <span class="kw">get</span>(<span class="st">&quot;defaultContact&quot;</span>, <span class="dt">envir =</span> EMLConfig),
          <span class="dt">coverage =</span> <span class="kw">eml_coverage</span>(<span class="dt">scientific_names =</span> <span class="ot">NULL</span>,
                                  <span class="dt">dates =</span> <span class="ot">NULL</span>,
                                  <span class="dt">geographic_description =</span> <span class="ot">NULL</span>,
                                  <span class="dt">NSEWbox =</span> <span class="ot">NULL</span>),
          <span class="dt">methods =</span> <span class="kw">new</span>(<span class="st">&quot;methods&quot;</span>),
          ...,
          <span class="dt">additionalMetadata =</span> <span class="kw">c</span>(<span class="kw">new</span>(<span class="st">&quot;additionalMetadata&quot;</span>)),
          <span class="dt">citation =</span> <span class="ot">NULL</span>,
          <span class="dt">software =</span> <span class="ot">NULL</span>,
          <span class="dt">protocol =</span> <span class="ot">NULL</span>)</code></pre>
<p>Because all other arguments are optional, it is sufficient to call this function with the <code>dat</code> argument alone. The <code>data</code> object is allowed to be <code>NULL</code> if at least one of the other top-level alternatives to a <code>dataset</code> is provided: <code>citation</code>, <code>software</code> or <code>protocol</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">my_eml &lt;-<span class="st"> </span><span class="kw">eml</span>(dat)</code></pre>
<p>This function follows the same logic as before: The function first constructs a unique identifier for the EML <code>packageId</code>. If <code>dat</code> is already an S4 <code>dataset</code> or <code>dataTable</code> object it is added immediately to a <code>new(&quot;eml&quot;</code> object; otherwise a <code>dataTable</code> object is constructed with the next helper function, <code>eml_dataTable</code>. (These constructors prefaced with (<code>eml_</code>) are always just thin wrappers around the direct construction of these S4 objects with <code>new(&quot;classname&quot;, ...)</code>, and exist just to simplify certain things wich are usually and frequently automated, such as creating unique ide elements.)</p>
<p>So far our <code>data.set</code> object <code>dat</code> is just passed unchanged from <code>write_eml</code> to <code>eml</code> to <code>eml_dataTable</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">my_dataTable &lt;-<span class="st"> </span><span class="kw">eml_dataTable</span>(dat)</code></pre>
<p>This constructor is the first to peer inside the <code>dat</code> object, extracting metadata for the <code>attributeList</code> elements. (The <code>dat</code> object is also passed to the <code>eml_physical</code> constructor, which will use the actual <code>data.frame</code> to write the csv file.)</p>
<p>The metadata extraction is performed in two steps. First, the helper function <code>detect_class</code> extracts a list of the necessary metadata from the <code>data.set</code>. Then this list is coerced into an EML <code>attributeList</code> (<strong>Note</strong> in this review it becomes clear that the coercion is not a flexible and robust way to handle this, so this task is now performed by <code>eml_attributeList</code> and in turn, <code>eml_attribute</code>, following the same logic as above.) Currently, <code>detect_class</code> takes the legacy format of having a <code>data.frame</code> and a list of <code>meta</code> objects, structured as column name, col definitions, and unit defintions (each as character vectors, like in a <code>data.set</code>. Here is where things get tricky. <code>detect_class</code> uses the declared class of the column to decide how to interpret the column and unit metadata, using the following mapping:</p>
<pre><code>numeric or integer : ratio
ordered factor: ordinal/enumeratedDomain
factor : nominal/enumeratedDomain
POSIXlt, POSIXct, Date : dateTime
character : nominal/textDomain</code></pre>
<p>Looks like to would be best for <code>eml_attribute</code> to handle this mapping itself, particulary since the different conventions bifurcate at different spots (e.g. we must know if a <code>nominal</code> is enumerated or text). This could also allow for finer handling of optional unit information, such as the bounds or precision.</p>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/17/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="col-md-3">
          <header><h4><a href="/2014/04/11/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 11 Apr 2014</p>

<article>
<div class="excerpt">
<h2 id="labnotebook">labnotebook</h2>
<p>Updates to configuration to be more portable and lightweight:</p>
<ul>
<li>Drop APIs for Mendeley and Github in favor of just pulling from atom/rss feeds. Doesn’t require a platform-specific API or authentication, and has proven more robust, if sometimes less flexible and fancy.</li>
<li>Drop git-modified and sha timestamps. It’s nice having these on the pages and included in the rdfa, but the information is accessible from the git repository and from Github. The overhead time in computing these values and successfully including them wasn’t worth it.</li>
<li>However, add a sha for the vita page using a simple filter.</li>
<li><p>Wishing I could just embed svgs into md output as XML, instead of as binary. See full description of issue: <a href="https://github.com/yihui/knitr/issues/754">yihui/knitr#754</a>.</p></li>
<li><p>Installed vim-pandoc’s dev versions, <a href="https://github.com/vim-pandoc/vim-pantondoc">vim-pantondoc</a> and <a href="https://github.com/vim-pandoc/vim-pandoc-syntax">vim-pandoc-syntax</a> via pathogen; seem to be working rather nicely.</p></li>
</ul>
<h2 id="reproducible-paper-example">reproducible paper example</h2>
<p>from richfitz mwpennel and co: A manuscript with examples executed by makefile (or R source script) and checked and built by travis: <a href="https://github.com/richfitz/wood/">richfitz/wood</a>. Wow. Particularly nice jobs in:</p>
<ul>
<li>handling downloading of raw data from original (Dryad-based) sources. Makefile seems to handle doing this in a cache-friendly way that is lighter on Travis network.</li>
<li>providing the cleaned, process data as seperate data files in clearly marked <code>output</code> directory. Still, the output would be more modular if done in some more generic format than R’s binary serialization as rds files. They do also provide data on Dryad, which is presumably the processed data in a more sensible format, though their data DOI, <a href="http://doi.org/10.5061/dryad.v7m14">10.5061/dryad.v7m14</a>, is still embargoed in advance of publication at the time of writing.</li>
<li>Travis checks not only that code runs, but that it downloads and that the manuscript and figures can be complied (by LaTeX), with supplement knitted and compiled as html.</li>
<li>in a very nice touch, Travis pushes html and pdf results back to Github on gh-pages.</li>
</ul>
<p>Some very minor nitpicks:</p>
<ul>
<li>manuscript isn’t strictly a literate (knitr) document, though figures are being produced on the fly from code by make. May be a sensible choice (though misses a few opportunities for dynamic inline values).</li>
<li>license not declared, but already coming soon <a href="https://github.com/richfitz/wood/issues/8">richfitz/wood#8</a></li>
<li>discussion of citation of code: <a href="https://github.com/richfitz/wood/issues/11">richfitz/wood#11</a></li>
<li>trouble in executing locally, see <a href="https://github.com/richfitz/wood/issues/12">richfitz/wood#12</a></li>
</ul>
<h2 id="rfishbase">rfishbase</h2>
<ul>
<li>added travis and minor updates to test suite. <a href="https://github.com/ropensci/rfishbase/issues/21">ropensci/rfishbase#21</a></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2014/04/11/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

  </div>
</div> <!--end row -->

<div class="row socialicons">
  <div class="col-md-11 col-md-offset-1">
      <p> <a href="/archive.html"><i class="icon-calendar"></i> All entries by date</a></p> 
      <p> <a href="/categories.html"><i class="icon-list"></i> All entries by category</a> </p>
      <p> <a href="/tags.html"><i class="icon-tags"></i> All entries by tag</a> </p>
  </div> <!--end col-md-9 -->
</div> <!--end row -->




<footer class="footer">

<!--************** FOAF information to social networks ***************************** -->
  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="http://carlboettiger.info#me">
      <p>
          <script type="text/javascript" src="/assets/js/obfuscate-email-link.js" language="javascript"></script> 

          <a rel="foaf:account" alt="twitter" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="icon-twitter"></i></span></a> 

          <a rel="foaf:account" alt="github" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="icon-github"></i></span></a>
      <!--
          <a rel="foaf:account" href="https://plus.google.com/" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'GPlus'); 
             return false;"><i class="icon-google-plus"></i></a>

          <a rel="foaf:account" href="http://www.mendeley.com/profiles/carl-boettiger" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Mendeley'); 
             return false;"><img src="/assets/img/icon-mendeley.png" alt="mendeley" /></a> 

           citations on google-scholar

           stackoverflow
      -->
      <a alt="rss" rel="foaf:weblog", type="application/atom+xml" href="/blog.xml"  
         class="showtooltip" title="RSS feeds for my blog-style entries. See the feed on my lab notebook (/atom.xml) to follow all entries instead." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="icon-rss"></i></a>
       </p>
    </div>

    
    <!--**************** End social links **************************** -->


    <div class="col-md-4 col-md-offset-1 col-xs-4">
      <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="/assets/img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="/assets/img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>


  
<!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
  <span
      class="Z3988" 
      title="ctx_ver=Z39.88-2004
      &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
      &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
      &amp;rft.title=Lab Notebook
      &amp;rft.creator=Carl Boettiger
      &amp;rft.date=
      &amp;rft.language=EN
      &amp;rft.rights=CC0
      &amp;rft_id=http://carlboettiger.info/lab-notebook.html">
  </span>


</footer>




    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!-- JQuery, used on a few pages (still?) -->
    <!-- <script type="text/javascript" src="/assets/js/jquery.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <!-- Twitter Bootstrap Javascript -->
    <!--  <script src="/assets/js/bootstrap.min.js"></script> -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>


    

  <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-18401403-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
  </script>



<script type="text/javascript">
function recordOutboundLink(link, category, action) {
  try {
    var pageTracker=_gat._getTracker("UA-18401403-1");
    pageTracker._trackEvent(category, action);
    setTimeout('document.location = "' + link.href + '"', 100)
  }catch(err){}
}
</script>




    


    </div>
  </body>
</html>

