<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.21-DEV" />
  <meta name="author" content="Carl Boettiger">
  

  
  
  
    
    
    <link rel="stylesheet" href="../../css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  
  
    <link rel="stylesheet" href="../../css/cboettig.css">
  
  
  <link rel="alternate" href="../../lab-notebook/index.xml" type="application/rss+xml" title="Boettiger Group">
  <link rel="feed" href="../../lab-notebook/index.xml" type="application/rss+xml" title="Boettiger Group">

  <link rel="icon" type="image/png" href="../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../img/apple-touch-icon.png">
  <link rel="canonical" href="../../lab-notebook.html">


  <title>Lab-notebooks | Boettiger Group</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../">Boettiger Group</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="../../index.html">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../members/">
            
            <span>Members</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../vita/">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../teaching/">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../lab-notebook">
            
            <span>Lab Notebook</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<div class = "container">




  <h1>Lab Notebook Entries</h1>

  

  
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      rocker / docker  Talking over strategy with Dirk, see summary in #1 and follow-up issues, #3, #4, #5.  rdataone &amp; EML Trying to fix travis issues. Much craziness.
travis.sh doesn&rsquo;t provide notes on setup for repos where the R package is in a subdirectory. Looks like cd commands are persistent though throughout a travis file. okay.
 dataone is imported by EML but suggested by dataone. Since install_github likes to install the suggests list, this creates problems:
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      docker 2014-09-29:
 Discussion with Dirk on repositories, library paths, versions. library paths: apt-get users the usr/lib path, while user-run install commands (e.g. install.packages) uses usr/local/lib/, path. Dirk recommends that /usr/local/lib/R/site-library is configured to be user-writable for package installation, rather than installing into home. building directly from CRAN building dependencies: apt-get build-dep, needs the corresponding deb-src lines. issues and tweaks to littler see PR #2  2014-10-01:
 Discussion on minimal images Discussion on analogsea + docker Blog coverage of Dirk&rsquo;s talk on our Docker work.
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Misc Docker Notes  funny business with Locales, see #19  Misc notes on littler  INSTALL page is outdated. Instead, do:  apt-get update \ &amp;&amp; apt-get build-dep -y littler \ &amp;&amp; apt-get install autoconf git \ &amp;&amp; git clone <a href="https://github.com/eddelbuettel/littler.git">https://github.com/eddelbuettel/littler.git</a> \ &amp;&amp; /littler/./bootstrap  May want to symlink too:
ln -s /littler/examples/install.r /usr/local/bin/install.r \ &amp;&amp; ln -s /littler/examples/install2.r /usr/local/bin/install2.r \ &amp;&amp; ln -s /littler/examples/installGithub.r /usr/local/bin/installGithub.r \ &amp;&amp; ln -s /littler/examples/testInstalled.
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      The NIH has recently announced the report of a landmark meeting which presents a vision for a Software Discovery Index (SDI). The report is both timely and focused on the key issues of locating, citing, reusing software:
 Software developers face challenges disseminating their software and measuring its adoption. Software users have difficulty identifying the most appropriate software for their work. Journal publishers lack a consistent way to handle software citations or to ensure reproducibility of published findings.
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Writing dockerfiles is pretty straight forward. Nevertheless, a little extra care goes a long way. Docker&rsquo;s own Best Practices are a great starting point, covering everything from formatting to use of certain commands. In Rocker, We&rsquo;ve tried to follow all of these suggestions and have found them very helpful. In particular:
 Minimize the number of layers, but use \ to break commands across multiple lines,
 Always run apt-get update &amp;&amp; apt-get install -y .
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Been looking into building versioned images for previous R releases using Docker, based on somewhat common requests to our recently begun rocker project. Versioning is under early development and the best way to go about this is not yet clear. Getting the correct version of R installed is not always trivial but is relatively straight forward, and I outline two approaches below.
Getting the correct version of packages (or even merely any compatible version of the package) to install is a considerably more difficult problem, which I&rsquo;ll discuss later.
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Updating gitlab setup:
docker pull sameersbn/redis:latest docker pull sameersbn/gitlab:7.3.2-1 docker pull sameersbn/postgresql:latest mkdir -p /opt/gitlab/data mkdir -p /opt/postgresql/data docker run &ndash;name=postgresql -d \ -e &lsquo;DB_NAME=gitlabhq_production&rsquo; -e &lsquo;DB_USER=gitlab&rsquo; -e &lsquo;DB_PASS=password&rsquo; \ -v /opt/postgresql/data:/var/lib/postgresql \ sameersbn/postgresql:latest docker run &ndash;name=redis -d sameersbn/redis:latest docker run &ndash;name=gitlab -d \ &ndash;link postgresql:postgresql \ &ndash;link redis:redisio \ -p 10080:80 -p 10022:22 \ -v /opt/gitlab/data:/home/git/data \ sameersbn/gitlab:7.3.2-1  More consisely, do this with fig
gitlab: image: sameersbn/gitlab:7.3.2-1 links: - postgres - redis:redisio ports: - &quot;10080:80&quot; - &quot;10022:22&quot; volumes: - /opt/gitlab/data:/home/git/data environment: - SMTP_USER=USER@gmail.
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Keep thinking about this quote from Jeroen Oom&rsquo;s recent piece on the arxiv:
 The role and shape of data is the main characteristic that distinguishes scientific computing. In most general purpose programming languages, data structures are instances of classes with well-defined fields and methods. [&hellip;] Strictly defined structures make it possible to write code implementing all required operations in advance without knowing the actual content of the data. It also creates a clear separation between developers and users [emphasis added].
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      Lots of crazyness getting to the bottom of permissions changes, as discussed in:
 rocker issues tracker Stackoverflow question Docker mailing list  Long story short: docker cares only about UIDs, so we have to explicitly make sure these match. Some very good answers including from Docker core-team members on the discussion list. Overall approach outlined at the end of the rocker issues tracker.
Here&rsquo;s the SO version of the question, for my reference:
      
    </div>
  </div>
  
  <div>
    <h2><a href="../../1/01/01.html"></a></h2>
    <h4>Mon, Jan 1, 0001</h4>
    <div class="article-style">
      
      In the spirit of Greg&rsquo;s post &amp; the discussion here, I&rsquo;d be interested in hearing more on people&rsquo;s thoughts about the viability of Dockerized software both in the teaching classroom and beyond, as students continue in their research.
To start off, I thought I&rsquo;d share a few of my own impressions, largely to give a target for anyone to push back against. In doing so I will also try to outline what I see as the features and potential workflow would look like, in hopes that it does not require any actual experience with docker to have an opinion on whether or not a particular strategy makes sense pedagogically.
      
    </div>
  </div>
  

  
<nav>
  <ul class="pager">
    
    <li><a href="../../lab-notebook/page/67.html">&laquo; Previous</a></li>
    
    
    <li><a href="../../lab-notebook/page/69.html">Next &raquo;</a></li>
    
  </ul>
</nav>




<h3><i class="fa fa-calendar"></i> Earlier Notebooks</h3>
    <ul class="list-unstyled">
      <li><a href="http://www.carlboettiger.info/2015/lab-notebook">2015 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2014/lab-notebook">2014 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2013/lab-notebook">2013 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2012/lab-notebook">2012 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2011/lab-notebook">2011 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2010/lab-notebook">2010 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2009/lab-notebook">2009 Notebook</a></li>
      <li><a href="http://www.carlboettiger.info/2008/lab-notebook">2008 Notebook</a></li>
    </ul>
  </div>

</div>

<footer class="site-footer">
  <hr />
  <div class="container">

  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="https://carlboettiger.info/#me">
      <p>
      <script type="text/javascript" src="../../js/obfuscate-email-link.js"></script> 

          <a rel="foaf:account" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="fa fa-twitter"></i></span></a> 

          <a rel="foaf:account" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="fa fa-github"></i></span></a>
           <a rel="foaf:weblog" type="application/atom+xml" href="../../lab-notebook/index.xml"  
        class="showtooltip" title="RSS feeds for my blog-style entries." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="fa fa-rss"></i></a>
       </p>
    </div>

    
    


    <div class="col-md-4 col-md-offset-1 col-xs-4">
	    <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="../../img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="../../img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="../../js/jquery-1.12.3.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="../../js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-18401403-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

