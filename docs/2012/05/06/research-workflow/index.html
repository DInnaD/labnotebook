<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.20.2" />
  <meta name="author" content="Carl Boettiger">
  

  
  
  
    
    
    <link rel="stylesheet" href="../../../../css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="../../../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../../../css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  
  
    <link rel="stylesheet" href="../../../../css/cboettig.css">
  
  
  <link rel="alternate" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">
  <link rel="feed" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">

  <link rel="icon" type="image/png" href="../../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../../img/apple-touch-icon.png">
  <link rel="canonical" href="../../../../2012/05/06/research-workflow/">


  <title>My research workflow, based on Github | Boettiger Group</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../../">Boettiger Group</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="../../../../index.html">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../members/">
            
            <span>Members</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../vita/">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../teaching/">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../lab-notebook">
            
            <span>Lab Notebook</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<div class="row">
  <div class="col-md-7 col-md-offset-1">
    <article>
    <h1>My research workflow, based on Github</h1> 
      
    

<p>This post outlines my current research workflow.  This has evolved
over time, so only my most recent projects hold completely to it,
though almost all my projects follow the general R package structure.
Two main differences are visible in my earlier projects: I used to keep
scripts in <code>demo</code> before they became the more complete knitr markdown in
<code>inst/examples</code>.  I previously relied on a custom package called socialR
to post results from those scripts to flickr, and would then embed the
results in my Wordpress notebook, linking back to the demo file in Github.
Knitr has allowed me to keep those figures, code and text in the package
repository.  This keeps everything more centralized (to Github), and lets
each of the examples be updated in a more natural way than the linear
record in the lab notebook.  (Images are still hosted on flickr to avoid
committing the binary files, knitr handles this upload rather well.).</p>

<p>I&rsquo;ve recently gotten better at always including <code>Roxygen</code> documentation
for packages.  Since <code>knitr</code> and markdown are recent developments for
me, many older and even working manuscripts are still local in LaTeX.
Being sensitive to the desires of collaborators means, that some projects
are kept locally or hosted as private, secure repositories.</p>

<h1 id="my-workflow">My Workflow</h1>

<p>When I begin a new research project, I create a repository for that project in <a href="https://github.com/cboettig">Github</a>.
Projects that build substantially on earlier work of mine may start as a <code>clone</code>
of one of my existing projects. New directions in an existing project will instead
begin as a branch within that repository, that may merge or be split out.</p>

<p>Each repository is organized as an R package, with the basic directories <code>R/</code>, <code>src/</code>, <code>man/</code>
<code>data/</code>, <code>inst/examples/</code> and <code>inst/doc/</code>, and the metadata file <code>DESCRIPTION</code> providing
the R package metadata such as author and dependencies.  <code>README.md</code> files provide
descriptions of the directories.  The package is installable directly from R through
Github.  The R package structure nicely handles software dependencies, documentation, and
metadata in a consistent and portable structure:</p>

<ul>
<li><code>R/</code> provides R functions representing commonly used analyses.</li>
<li><code>src/</code> provides C source-code for any R functions that are too slow by themselves.</li>
<li><code>man/</code> contains automatically generated documentation of these functions from the
Roxygen documentation included in the function files.</li>
<li><code>data/</code> contains small data files.  Version management is not ideal for large data files.
Instead, a README file contains metadata and links to data stored on a seperate webserver.<br />
The README file can be version managed within git and nicely displayed on Github.</li>
<li><code>inst/examples/</code> contains each of my investigations.  These are saved as
<a href="http://yihui.name/knitr">knitr</a> files, which allow me to mix markdown text describing
what I am doing with each code block.  Knitr runs this code and assembles
the results in a markdown format that displays the code, images, and supporting text nicely
together. Long blocks of code become abstracted as functions and move into the <code>R</code> directory,
where they recieve formal documentation and can be more easily used in later examples.</li>
<li>Sections from mature examples can be moved into <code>inst/doc/</code> as another markdown file that
will eventually become a publication associated with this work.  The paper acts a Sweave-style
dynamic document that still contains the code relevant to re-create the examples, though options
can now hide that code from the final display. In addition to the markdown format for online
viewing, <code>inst/doc/</code> includes utilities from knitr and <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>
which handle citations and can convert this markdown file into a LaTeX or Word document for
journal submission.</li>
</ul>

<p>Github maintains and displays the version history of the workflow, making it easy to compare
earlier versions of the manuscript, and track the history of the results to even before they
reach the manuscript in <code>inst/examples/</code>.  Contributions of collaborators using Github are easily
tracked and displayed as well.  Github can provide version-stable links that will point to
any element at a fixed point in the process, and dynamic links that always point to the most
recent version (or even particular line of code in a version).</p>

<p>Github&rsquo;s issues tracker provides a convenient platform to record, sort, and prioritize issues
that need to be addressed and directions for future exploration. Issues can be submitted by anyone.</p>

<p>The R package structure provides a standardized and
portable container for the project suitable for combining functions, scripts, documentation,
and examples, and also handling software dependencies and versions.</p>

    </article>
  </div>
  <div class="col-md-4">
    <div class="sidebar">
      <aside prefix="og:http://ogp.me/ns/article#">
  
  
  
<div class="article-metadata">

  <p>
  <span class="article-date">
    <i class="fa fa-calendar"></i>
    
    <time datetime="2012-05-06 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Sun, May 6, 2012
    </time>
    
  </span>
  </p>
    

  <p>
  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="../../../../categories/open-science">open-science</a
    >
    
  </span>
  
  
  </p>
  
  <p>
  
  </p>

</div>

 
  <br />
  
  <p><a class="btn btn-default" rel="prev" href='../../../../2012/05/07/notes/'><i class="fa fa-chevron-left"></i> prev</a>
    <a class="btn btn-default" rel="next" href='../../../../2012/05/04/notes/'>next <i class="fa fa-chevron-right"></i></a></p>

  <br />

  <p> <a class="btn btn-default" 
         href="https://github.com/cboettig/cboettig.github.io/commits/master/content/lab-notebook/2012-05-06-research-workflow.md"><i class="fa fa-clock-o"></i> history</a></p>

  <p> <i class="fa fa-barcode"></i> SHA: <a href="https://github.com/cboettig/cboettig.github.io/blob/b3630889a5584cd1240e1c9d2208759615c88af4/content/lab-notebook/2012-05-06-research-workflow.md">b3630889a</a></p> 


</aside>

    </div>
  </div>
</div>


<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cboettig';
    var disqus_identifier = '\/2012\/05\/06\/research-workflow\/';
    var disqus_title = 'My research workflow, based on Github';
    var disqus_url = '\/2012\/05\/06\/research-workflow\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>

<footer class="site-footer">
  <hr />
  <div class="container">

  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="https://carlboettiger.info/#me">
      <p>
      <script type="text/javascript" src="../../../../js/obfuscate-email-link.js"></script> 

          <a rel="foaf:account" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="fa fa-twitter"></i></span></a> 

          <a rel="foaf:account" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="fa fa-github"></i></span></a>
           <a rel="foaf:weblog" type="application/atom+xml" href="../../../../index.xml"  
        class="showtooltip" title="RSS feeds for my blog-style entries." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="fa fa-rss"></i></a>
       </p>
    </div>

    
    


    <div class="col-md-4 col-md-offset-1 col-xs-4">
	    <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="../../../../img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="../../../../img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="../../../../js/jquery-1.12.3.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="../../../../js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-18401403-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

 
