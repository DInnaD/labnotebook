<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.20.2" />
  <meta name="author" content="Carl Boettiger">
  

  
  
  
    
    
    <link rel="stylesheet" href="../../../../css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="../../../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../../../css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  
  
    <link rel="stylesheet" href="../../../../css/cboettig.css">
  
  
  <link rel="alternate" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">
  <link rel="feed" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">

  <link rel="icon" type="image/png" href="../../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../../img/apple-touch-icon.png">
  <link rel="canonical" href="../../../../2013/09/07/rnexml-milestone/">


  <title> | Boettiger Group</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../../">Boettiger Group</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="../../../../index.html">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../members/">
            
            <span>Members</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../vita/">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../teaching/">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../lab-notebook">
            
            <span>Lab Notebook</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<div class="row">
  <div class="col-md-7 col-md-offset-1">
    <article>
    
      
    

<p>We have also recently reached the first
<a href="https://github.com/ropensci/RNeXML/issues?milestone=1&amp;state=closed">milestone</a>
in <a href="https://github.com/ropensci/RNeXML">RNeXML</a>. We can now read NeXML
files into R and convert to the popular <code>phylo</code> format from the <code>ape</code>
package, as well as writing the <code>ape::phylo</code> trees out into valid NeXML.
We can also add basic metadata such as author, license, title and
description to the file.</p>

<h3 id="development-notes">Development notes</h3>

<p>At the heart of this package is an internal S4 representation of the
schema.  While knowledgable users could interact with the S4 objects
directly (easier and less error-prone than interacting with the XML
parsing/serializing directly), we in general provide an end-user API
which hides the internal complexity of S4 classes, as illustrated below.
In principle this representation could be automatically generated from
the schema using the <code>XMLSchema</code> package, but that must wait until that
package is more mature.  Meanwhile, we rely on hand-coded classes and
hand-coded coercion functions.</p>

<p>The coercion functions take care of the translation into and out of the
XML (parsing and serializing) without any need for xpath expressions.
At the moment they are verbosely spelled out under the class
definitions in classes.R file, though ideally they could be abstracted
(e.g. as we do in <code>reml</code>).  Classes are based on the <a href="https://github.com/ropensci/RNeXML/issues/1#issuecomment-22867535">inheritance
structure</a>
of the schema (unlike <code>reml</code>), which makes additional nodes much easier
to add and hence it is easier to extend this library. At this time
we have only certain core elements from the schema as map naturally to
<code>ape</code> trees, along with the essential annotation elements (<code>meta</code> nodes).
Support for additional classes / schema elements will be added as driven
by use cases.</p>

<p>(See the <a href="https://github.com/ropensci/RNeXML">Github page</a> for the most recent tutorial, this is just added  here for my record).</p>

<h3 id="tutorial">Tutorial</h3>

<p>The development version of RNeXML is <a href="https://github.com/ropensci/RNeXML">available on Github</a>.  With the <code>devtools</code> package installed on your system, RNeXML can be installed using:</p>

<pre><code class="language-r">library(devtools)
install_github(&quot;RNeXML&quot;, &quot;ropensci&quot;)
library(RNeXML)
</code></pre>

<p>Read in a <code>nexml</code> file into the <code>ape::phylo</code> format:</p>

<pre><code class="language-r">f &lt;- system.file(&quot;examples&quot;, &quot;trees.xml&quot;, package = &quot;RNeXML&quot;)
tr &lt;- nexml_read(f, &quot;phylo&quot;)
</code></pre>

<p>Write an <code>ape::phylo</code> tree into the <code>nexml</code> format, including optional metadata:</p>

<pre><code class="language-r">nexml_write(bird.orders, &quot;birds.xml&quot;, creator = &quot;Carl Boettiger &lt;cboettig@ropensci.org&gt;&quot;, 
    title = &quot;example NeXML file for bird orders&quot;, description = &quot;Example phylogeny taken from the ape documentation showing the major bird orders&quot;)
</code></pre>

<h3 id="next-steps">Next Steps</h3>

<p>Developing use cases, soliciting input, and writing a manuscript&hellip; See issues log.</p>

<ul>
<li>Outreach <a href="https://github.com/ropensci/RNeXML/issues/22">#22</a></li>
<li>metadata use cases <a href="https://github.com/ropensci/RNeXML/issues/21">#21</a></li>
<li>serializing metadata (implementation) <a href="https://github.com/ropensci/RNeXML/issues/18">#18</a></li>
<li>Testing  <a href="https://github.com/ropensci/RNeXML/issues/15">#15</a></li>
</ul>

    </article>
  </div>
  <div class="col-md-4">
    <div class="sidebar">
      <aside prefix="og:http://ogp.me/ns/article#">
  
  
  
<div class="article-metadata">

  <p>
  <span class="article-date">
    <i class="fa fa-calendar"></i>
    
    <time datetime="2013-09-07 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Sat, Sep 7, 2013
    </time>
    
  </span>
  </p>
    

  <p>
  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="../../../../categories/evolution">evolution</a
    >
    
  </span>
  
  
  </p>
  
  <p>
  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="../../../../tags/ropensci">ropensci</a
    >
    
  </span>
  
  
  </p>

</div>

 
  <br />
  
  <p><a class="btn btn-default" rel="prev" href='../../../../2013/09/08/some-rfishbase-updates/'><i class="fa fa-chevron-left"></i> prev</a>
    <a class="btn btn-default" rel="next" href='../../../../2013/09/06/nsf-math-bio-postdoc/'>next <i class="fa fa-chevron-right"></i></a></p>

  <br />

  <p> <a class="btn btn-default" 
         href="https://github.com/cboettig/cboettig.github.io/commits/master/content/lab-notebook/2013-09-07-RNeXML-milestone.md"><i class="fa fa-clock-o"></i> history</a></p>

  <p> <i class="fa fa-barcode"></i> SHA: <a href="https://github.com/cboettig/cboettig.github.io/blob/cd98680d81d38b2d90af25cb09955cd205505b2c/content/lab-notebook/2013-09-07-RNeXML-milestone.md">cd98680d8</a></p> 


</aside>

    </div>
  </div>
</div>


<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cboettig';
    var disqus_identifier = '\/2013\/09\/07\/rnexml-milestone\/';
    var disqus_title = '';
    var disqus_url = '\/2013\/09\/07\/rnexml-milestone\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>

<footer class="site-footer">
  <hr />
  <div class="container">

  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="https://carlboettiger.info/#me">
      <p>
      <script type="text/javascript" src="../../../../js/obfuscate-email-link.js"></script> 

          <a rel="foaf:account" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="fa fa-twitter"></i></span></a> 

          <a rel="foaf:account" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="fa fa-github"></i></span></a>
           <a rel="foaf:weblog" type="application/atom+xml" href="../../../../index.xml"  
        class="showtooltip" title="RSS feeds for my blog-style entries." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="fa fa-rss"></i></a>
       </p>
    </div>

    
    


    <div class="col-md-4 col-md-offset-1 col-xs-4">
	    <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="../../../../img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="../../../../img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="../../../../js/jquery-1.12.3.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="../../../../js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-18401403-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

 
