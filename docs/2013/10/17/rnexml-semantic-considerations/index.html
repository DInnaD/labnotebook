<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.20.2" />
  <meta name="author" content="Carl Boettiger">
  

  
  
  
    
    
    <link rel="stylesheet" href="../../../../css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="../../../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../../../css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  
  
    <link rel="stylesheet" href="../../../../css/cboettig.css">
  
  
  <link rel="alternate" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">
  <link rel="feed" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">

  <link rel="icon" type="image/png" href="../../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../../img/apple-touch-icon.png">
  <link rel="canonical" href="../../../../2013/10/17/rnexml-semantic-considerations/">


  <title> | Boettiger Group</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../../">Boettiger Group</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="../../../../index.html">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../members/">
            
            <span>Members</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../vita/">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../teaching/">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../lab-notebook">
            
            <span>Lab Notebook</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<div class="row">
  <div class="col-md-7 col-md-offset-1">
    <article>
    
      
    <p>Some very good feedback from Hilmar as I tackle some of the semantic capabilities of NeXML in RNeXML. As the complete discussion is already archived in the Github issues tracking, (see in particular <a href="https://github.com/ropensci/RNeXML/issues/26">#26</a> and <a href="https://github.com/ropensci/RNeXML/issues/24">#24</a>) I only paraphrase here.</p>

<p>One of the central advantages we can offer in programmatic generation of NeXML in the R environment is the ability to validate names and enhance the metadata included in the resulting nexml file using programmatic queries to taxonomic name resolution services such as ITIS, EOL, NCBI, as provided in the <a href="https://github.com/ropensci/taxize_">taxize</a> package.</p>

<p>A subtly to this approach is discussed in issue <a href="https://github.com/ropensci/RNeXML/issues/24">#24</a>. Whenever we provide new data, we should also provide future users the appropriate metadata describing where it came from, if we had found an exact match or maybe only a close match (perhaps an alternative spelling of the species name was used).  Specifying the provenance exactly can become quite verbose, for each taxonomic unit we have:</p>

<p><img src="https://raw.github.com/phylotastic/ontologies/master/tnrs/tnrs-instance-1otu.png" alt="" /></p>

<p>which corresponds to adding RDFa to the NeXML looking something like:</p>

<pre><code class="language-xml">&lt;otus id=&quot;tax1&quot;&gt;
    &lt;otu label=&quot;Struthioniformes&quot; id=&quot;t1&quot;&gt;
      &lt;meta xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;
     xmlns:rdfs=&quot;http://www.w3.org/2000/01/rdf-schema#&quot;
     xmlns=&quot;http://www.w3.org/1999/xhtml&quot;
     xmlns:obo=&quot;http://purl.obolibrary.org/obo/&quot;
     xmlns:tc=&quot;http://rs.tdwg.org/ontology/voc/TaxonConcept#&quot;
     xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
     xmlns:dcterms=&quot;http://purl.org/dc/terms/&quot;
     xmlns:tnrs=&quot;http://phylotastic.org/terms/tnrs.rdf#&quot;
     xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema#&quot;
     class=&quot;rdf2rdfa&quot;&gt;
   &lt;meta class=&quot;description&quot; about=&quot;http://phylotastic.org/terms/tnrs-instance.rdf#otu5&quot;
        typeof=&quot;obo:CDAO_0000138&quot;&gt;
      &lt;meta property=&quot;rdfs:label&quot; content=&quot;Panthera tigris HQ263408&quot;/&gt;
      &lt;meta rel=&quot;tnrs:resolvesAs&quot;&gt;
         &lt;meta class=&quot;description&quot; typeof=&quot;tnrs:NameResolution&quot;&gt;
            &lt;meta property=&quot;tnrs:matchCount&quot; content=&quot;2&quot;/&gt;
            &lt;meta rel=&quot;tnrs:matches&quot;&gt;
               &lt;meta class=&quot;description&quot; typeof=&quot;tnrs:Match&quot;&gt;
                  &lt;meta property=&quot;tnrs:acceptedName&quot; content=&quot;Panthera tigris&quot;/&gt;
                  &lt;meta property=&quot;tnrs:matchedName&quot; content=&quot;Panthera tigris&quot;/&gt;
                  &lt;meta property=&quot;tnrs:score&quot; content=&quot;1.0&quot;/&gt;
                  &lt;meta rel=&quot;tc:toTaxon&quot; resource=&quot;http://www.ncbi.nlm.nih.gov/taxonomy/9694&quot;/&gt;
                  &lt;meta rel=&quot;tnrs:usedSource&quot;&gt;
                     &lt;meta class=&quot;description&quot; about=&quot;http://www.ncbi.nlm.nih.gov/taxonomy&quot;
                          typeof=&quot;tnrs:ResolutionSource&quot;&gt;
                        &lt;meta property=&quot;dc:description&quot; content=&quot;NCBI Taxonomy&quot;/&gt;
                        &lt;meta property=&quot;tnrs:hasRank&quot; content=&quot;3&quot;/&gt;
                        &lt;meta property=&quot;tnrs:sourceStatus&quot; content=&quot;200: OK&quot;/&gt;
                        &lt;meta property=&quot;dc:title&quot; content=&quot;NCBI&quot;/&gt;
                     &lt;/meta&gt;
                  &lt;/meta&gt;
               &lt;/meta&gt;
            &lt;/meta&gt;
            &lt;meta rel=&quot;tnrs:matches&quot;&gt;
               &lt;meta class=&quot;description&quot; typeof=&quot;tnrs:Match&quot;&gt;
                  &lt;meta property=&quot;tnrs:acceptedName&quot; content=&quot;Megalachne&quot;/&gt;
                  &lt;meta property=&quot;tnrs:matchedName&quot; content=&quot;Pantathera&quot;/&gt;
                  &lt;meta property=&quot;tnrs:score&quot; content=&quot;0.47790686999749&quot;/&gt;
                  &lt;meta rel=&quot;tc:toTaxon&quot; resource=&quot;http://www.tropicos.org/Name/40015658&quot;/&gt;
                  &lt;meta rel=&quot;tnrs:usedSource&quot;&gt;
                     &lt;meta class=&quot;description&quot; about=&quot;http://tnrs.iplantcollaborative.org/&quot;
                          typeof=&quot;tnrs:ResolutionSource&quot;&gt;
                        &lt;meta property=&quot;dc:description&quot;
                             content=&quot;The iPlant Collaborative TNRS provides parsing and fuzzy matching for plant taxa.&quot;/&gt;
                        &lt;meta property=&quot;tnrs:hasRank&quot; content=&quot;2&quot;/&gt;
                        &lt;meta property=&quot;tnrs:sourceStatus&quot; content=&quot;200: OK&quot;/&gt;
                        &lt;meta property=&quot;dc:title&quot; content=&quot;iPlant Collaborative TNRS v3.0&quot;/&gt;
                     &lt;/meta&gt;
                  &lt;/meta&gt;
               &lt;/meta&gt;
            &lt;/meta&gt;
            &lt;meta rel=&quot;dcterms:source&quot;&gt;
               &lt;meta class=&quot;description&quot;
                    about=&quot;http://phylotastic.org/terms/tnrs-instance.rdf#request&quot;
                    typeof=&quot;tnrs:ResolutionRequest&quot;&gt;
                  &lt;meta property=&quot;tnrs:submitDate&quot; content=&quot;Mon Jun 11 20:25:16 2012&quot;/&gt;
                  &lt;meta rel=&quot;tnrs:usedSource&quot; resource=&quot;http://tnrs.iplantcollaborative.org/&quot;/&gt;
                  &lt;meta rel=&quot;tnrs:usedSource&quot; resource=&quot;http://www.ncbi.nlm.nih.gov/taxonomy&quot;/&gt;
               &lt;/meta&gt;
            &lt;/meta&gt;
            &lt;meta property=&quot;tnrs:submittedName&quot; content=&quot;Panthera tigris&quot;/&gt;
         &lt;/meta&gt;
      &lt;/meta&gt;
   &lt;/meta&gt;
&lt;/meta&gt;
&lt;/otu&gt;
</code></pre>

<p>Why provenance?  This can be particularly important in tracking down errors or inconsistencies. For instance, image the taxanomic barcode id number we provide for a taxon is later divided into multiple species.  Ideally this would be reflected in the updated entries of the barcode service, establishing new id numbers for the split members and identifying that the old id was split &ndash; after all, a barcode system is supposed to facilitate addressing these kinds of issues.</p>

<p>Still, this appears much more verbose than say, what TreeBase does when automatically adding identifiers as annotations to the NeXML otu nodes.</p>

<p>Meanwhile, in more concrete terms, we seem to have some consensus on using NCBI taxonomic ids, since its API queries are pretty fast:</p>

<pre><code class="language-xml">&lt;otus id=&quot;tax1&quot;&gt;
    &lt;otu label=&quot;Struthioniformes&quot; id=&quot;t1&quot;&gt;
      &lt;meta xsi:type=&quot;ResourceMeta&quot; href=&quot;http://ncbi.nlm.nih.gov/taxonomy/8798&quot; rel=&quot;tc:toTaxon&quot;/&gt;
    &lt;/otu&gt;
</code></pre>

<p>note this example uses the <code>tc: http://rs.tdwg.org/ontology/voc/TaxonConcept#</code> <code>toTaxon</code> concept to provide a ontological definition of the link as a taxon identier.</p>

<p>NCBI does not do partial matching, so we simply warn when a user&rsquo;s taxonomic names do not match an NCBI id, giving them a chance to correct them if in error (either manually or automatically using the partial name matching functions in <code>taxize</code>)</p>

    </article>
  </div>
  <div class="col-md-4">
    <div class="sidebar">
      <aside prefix="og:http://ogp.me/ns/article#">
  
  
  
<div class="article-metadata">

  <p>
  <span class="article-date">
    <i class="fa fa-calendar"></i>
    
    <time datetime="2013-10-17 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Thu, Oct 17, 2013
    </time>
    
  </span>
  </p>
    

  <p>
  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="../../../../categories/evolution">evolution</a
    >
    
  </span>
  
  
  </p>
  
  <p>
  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="../../../../tags/rnexml">rnexml</a
    >, 
    
    <a href="../../../../tags/ropensci">ropensci</a
    >
    
  </span>
  
  
  </p>

</div>

 
  <br />
  
  <p><a class="btn btn-default" rel="prev" href='../../../../2013/11/04/mbi-notes/'><i class="fa fa-chevron-left"></i> prev</a>
    <a class="btn btn-default" rel="next" href='../../../../2013/10/16/notes/'>next <i class="fa fa-chevron-right"></i></a></p>

  <br />

  <p> <a class="btn btn-default" 
         href="https://github.com/cboettig/cboettig.github.io/commits/master/content/lab-notebook/2013-10-17-RNeXML-semantic-considerations.md"><i class="fa fa-clock-o"></i> history</a></p>

  <p> <i class="fa fa-barcode"></i> SHA: <a href="https://github.com/cboettig/cboettig.github.io/blob/9d9072923c46d635718a4624d6afff6b1ec2439f/content/lab-notebook/2013-10-17-RNeXML-semantic-considerations.md">9d9072923</a></p> 


</aside>

    </div>
  </div>
</div>


<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cboettig';
    var disqus_identifier = '\/2013\/10\/17\/rnexml-semantic-considerations\/';
    var disqus_title = '';
    var disqus_url = '\/2013\/10\/17\/rnexml-semantic-considerations\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>

<footer class="site-footer">
  <hr />
  <div class="container">

  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="https://carlboettiger.info/#me">
      <p>
      <script type="text/javascript" src="../../../../js/obfuscate-email-link.js"></script> 

          <a rel="foaf:account" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="fa fa-twitter"></i></span></a> 

          <a rel="foaf:account" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="fa fa-github"></i></span></a>
           <a rel="foaf:weblog" type="application/atom+xml" href="../../../../index.xml"  
        class="showtooltip" title="RSS feeds for my blog-style entries." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="fa fa-rss"></i></a>
       </p>
    </div>

    
    


    <div class="col-md-4 col-md-offset-1 col-xs-4">
	    <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="../../../../img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="../../../../img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="../../../../js/jquery-1.12.3.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="../../../../js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-18401403-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

 
