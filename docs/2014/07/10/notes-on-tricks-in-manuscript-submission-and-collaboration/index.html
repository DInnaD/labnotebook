<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.21" />
  <meta name="author" content="Carl Boettiger">
  

  
  
  
    
    
    <link rel="stylesheet" href="../../../../css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="../../../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../../../css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  
  
    <link rel="stylesheet" href="../../../../css/cboettig.css">
  
  
  <link rel="alternate" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">
  <link rel="feed" href="../../../../index.xml" type="application/rss+xml" title="Boettiger Group">

  <link rel="icon" type="image/png" href="../../../../img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../../img/apple-touch-icon.png">
  <link rel="canonical" href="../../../../2014/07/10/notes-on-tricks-in-manuscript-submission-and-collaboration/">


  <title> | Boettiger Group</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../../">Boettiger Group</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="../../../../index.html">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../members/">
            
            <span>Members</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../vita/">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../teaching/">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="../../../../lab-notebook">
            
            <span>Lab Notebook</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<div class = "container">


<div class="row">
  <div class="col-md-7 col-md-offset-1">
    <article>
    
      
    

<h2 id="some-thoughts-on-collaborating-with-markdown-dynamic-document-workflow">Some thoughts on collaborating with markdown / dynamic document workflow</h2>

<p>Collaborating on manuscripts with other researchers when not writing in
MS Word has been a perpetual nuisance for those of us not using Word (no
doubt the others might say the same). When I first began writing papers I
worked in LaTeX, and at that time I collaborated largely with others who
already knew TeX (e.g. my mentors), so this wasn&rsquo;t much of a problem.
While moving my workflow into markdown has simplified collaborations
with (often junior) researchers who know markdown better than tex, it
has managed to make the potential for mismatches even greater, as it
creates a barrier for both co-authors working in LaTeX as well as those
working in Word.</p>

<p>This has always been more of a nuisance than a real problem. I&rsquo;ve usually
just sent co-authors some derived copy (e.g. a pdf, or sometimes creating
a Word or TeX document from the markdown using pandoc and sending that).
This means I have to transcribe or at least copy and paste the edits,
though that&rsquo;s never all that time consuming a process.</p>

<p>I still have high hopes that RStudio&rsquo;s <code>rmarkdown</code> format will make it
practical for co-authors to edit and compile my <code>.Rmd</code> files directly.
Meanwhile, a mentor who frequently uses LaTeX in collaborating with
Word users suggested a much simpler solution that has proven very
pratical for me so far.</p>

<h3 id="a-simple-solution">A simple solution</h3>

<p>Based on his suggestion, I just paste the contents of the <code>.Rmd</code> file
into a Word (well, LibreOffice) document and send that. Most collaborators
can just ignore the code blocks and LaTeX equations, etc, and edit
the text directly.  I send the compiled pdf as well for the figures
and rendered equations.  A collaborator cannot easily re-compile their
changes, but I can by copy-pasting back into the <code>.Rmd</code> file. They can
track changes via Word, and I can track the same changes through the
version control when I paste their changes back in. It&rsquo;s not perfect,
but it&rsquo;s simple.</p>

<h1 id="challenges-in-submission-systems">Challenges in submission systems</h1>

<h2 id="transparent-figures">transparent figures</h2>

<p>I use semi-transparent graphs to show ensemble distributions of stochastic trajectories.  First, a quick example as to why:</p>

<pre><code class="language-r">ggplot(sims_data) +
  geom_line(aes(time, fishstock, group=interaction(reps,method), color=method), alpha=0.1) +
  scale_colour_manual(values=colorkey, guide = guide_legend(override.aes = list(alpha = 1))) +
  facet_wrap(~method) + guides(legend.position=&quot;none&quot;)
</code></pre>

<p><img src="http://io.carlboettiger.info/nonparametric-bayes/replicates.svg" alt="" /></p>

<p>Statistical summaries can get around this approach, but don&rsquo;t really reflect the true rather binary nature of the ensemble (that some trajectories go to zero while others remain around a constant level):</p>

<pre><code class="language-r">ggplot(sims_data) +

  stat_summary(aes(time, fishstock), fun.data = &quot;mean_sdl&quot;, geom=&quot;ribbon&quot;, fill='grey80', col='grey80') +
  stat_summary(aes(time, fishstock, col=method), fun.y = &quot;mean&quot;, geom=&quot;line&quot;) +

#  geom_line(aes(time, fishstock, group=interaction(reps,method), color=method), alpha=0.1) +
  scale_colour_manual(values=colorkey, guide = guide_legend(override.aes = list(alpha = 1))) +
  facet_wrap(~method) + guides(legend.position=&quot;none&quot;)
</code></pre>

<p><img src="http://io.carlboettiger.info/nonparametric-bayes/replicates-stat-summary-sdl.svg" alt="" /></p>

<p>Tweaking the statistical definitions can remove the more obvious errors from this, but still give the wrong impression:</p>

<pre><code class="language-r">mymin &lt;- function(x) mean(x) - sd(x)
ggplot(sims_data) +

  stat_summary(aes(time, fishstock), fun.y = &quot;mean&quot;, fun.ymin = &quot;mymin&quot;, fun.ymax=&quot;max&quot;, geom=&quot;ribbon&quot;, fill='grey80', col='grey80') +
  stat_summary(aes(time, fishstock, col=method), fun.y = &quot;mean&quot;, geom=&quot;line&quot;) +

#  geom_line(aes(time, fishstock, group=interaction(reps,method), color=method), alpha=0.1) +
  scale_colour_manual(values=colorkey, guide = guide_legend(override.aes = list(alpha = 1))) +
    facet_wrap(~method) + guides(legend.position=&quot;none&quot;)
</code></pre>

<p><img src="http://io.carlboettiger.info/nonparametric-bayes/replicates-stat-summary.svg" alt="" /></p>

<h3 id="technical-challenges-in-submitting-transparent-figures">Technical challenges in submitting transparent figures</h3>

<p>All this works great with R+ggplot2, generating svg versions shown here
or in generating pdfs for the final manuscript.  Try and upload those
pdfs to manuscriptcentral though (or arXiv, actually) and they will
render improperly or not at all.  What ever happened to the &ldquo;portable&rdquo;
in &ldquo;portable document format&rdquo;? (Note that submission systems can take
EPS/PS, though we&rsquo;d need to change our LaTeX flavor for it, but R&rsquo;s
graphic devices for those formats don&rsquo;t seem to support transparency.</p>

<p>It seems the problem for pdfs arises from different versions (thanks
to Rich FitzJohn for figuring this out, I would never have managed).
Transparency is natively supported in pdf &gt;= 1.4, while in earlier versions
it is just emulated. R can generate pdfs in 1.3 (using <code>dev.args = list(version=&quot;1.3&quot;)</code>
as the knitr chunk option), but unfortunately, ggplot promotes pdfs to version 1.4:</p>

<pre><code>Saving 7 x 6.99 in image
Warning message:
In grid.Call.graphics(L_lines, x$x, x$y, index, x$arrow) :
  increasing the PDF version to 1.4
</code></pre>

<p>I&rsquo;m not quite clear what part of the ggplot command triggers this, as some
ggplot figures do render in version 1.3.  To add one more gotcha, RStudio&rsquo;s
<code>rmarkdown</code> by default runs pdfcrop which also promotes the pdfs to version 1.4.</p>

<p>It seems that pdf 1.5 works however &ndash; opening the v1.4 pdf in inkscape and saving
as v1.5 seems to do the trick.  (the current R version seems to be 1.7, though
R supports up to 1.4).  This is the route I took for the time being with
mansucriptcentral, though frustrating that it requires a step external to the
<code>rmarkdown::render</code> process.</p>

<p>They can also take TIFF for graphics (though (pdf)LaTeX can&rsquo;t). I
suppose one could submit jpg/png images as supplementary files for the
tex compilation, which would have been a workable solution if annoying
to use rasters when a vector graphic is preferred (and much smaller &ndash;
I can&rsquo;t understand why manuscriptcentral takes 10^4 times as long to
upload a document as arXiv or other platforms).</p>

    </article>
  </div>
  <div class="col-md-4">
    <div class="sidebar">
      <aside prefix="og:http://ogp.me/ns/article#">
  
  
  
<div class="article-metadata">

  <p>
  <span class="article-date">
    <i class="fa fa-calendar"></i>
    
    <time datetime="2014-07-10 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Thu, Jul 10, 2014
    </time>
    
  </span>
  </p>
    

  <p>
  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="../../../../categories/open-science">open-science</a
    >
    
  </span>
  
  
  </p>
  
  <p>
  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="../../../../tags/workflow">workflow</a
    >
    
  </span>
  
  
  </p>

</div>

 
  <br />
  
  <p><a class="btn btn-default" rel="prev" href='../../../../2014/07/18/notes/'><i class="fa fa-chevron-left"></i> prev</a>
    <a class="btn btn-default" rel="next" href='../../../../2014/06/12/knitcitations-updates/'>next <i class="fa fa-chevron-right"></i></a></p>

  <br />

  <p> <a class="btn btn-default" 
         href="https://github.com/cboettig/cboettig.github.io/commits/master/content/lab-notebook/2014-07-10-notes-on-tricks-in-manuscript-submission-and-collaboration.md"><i class="fa fa-clock-o"></i> history</a></p>

  <p> <i class="fa fa-barcode"></i> SHA: <a href="https://github.com/cboettig/cboettig.github.io/blob/9d9072923c46d635718a4624d6afff6b1ec2439f/content/lab-notebook/2014-07-10-notes-on-tricks-in-manuscript-submission-and-collaboration.md">9d90729</a></p> 


</aside>

    </div>
  </div>
</div>


<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cboettig';
    var disqus_identifier = '\/2014\/07\/10\/notes-on-tricks-in-manuscript-submission-and-collaboration\/';
    var disqus_title = '';
    var disqus_url = '\/2014\/07\/10\/notes-on-tricks-in-manuscript-submission-and-collaboration\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>

<footer class="site-footer">
  <hr />
  <div class="container">

  <div class="row">
    <div class="col-md-3 col-xs-4 socialicons" style="font-size:20px" typeof="foaf:Person" about="https://carlboettiger.info/#me">
      <p>
      <script type="text/javascript" src="../../../../js/obfuscate-email-link.js"></script> 

          <a rel="foaf:account" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="fa fa-twitter"></i></span></a> 

          <a rel="foaf:account" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="fa fa-github"></i></span></a>
           <a rel="foaf:weblog" type="application/atom+xml" href="../../../../index.xml"  
        class="showtooltip" title="RSS feeds for my blog-style entries." 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="fa fa-rss"></i></a>
       </p>
    </div>

    
    


    <div class="col-md-4 col-md-offset-1 col-xs-4">
	    <p><a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="../../../../img/ons-aci2-icon.svg" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a></p>
    </div>


    <div class="col-md-3 col-md-offset-1 col-xs-4">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="../../../../img/cc-zero.svg" alt="CC0"/></a> 
      </p>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="../../../../js/jquery-1.12.3.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="../../../../js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-18401403-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    <script async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
    

  </body>
</html>

   